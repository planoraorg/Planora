<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Auth Protection -->
  <script src="/js/auth.js"></script>
  <script src="/js/navbar.js"></script>
  <script>
    // Redirect to login if not authenticated
    if (!isAuthenticated()) {
      sessionStorage.setItem('redirectAfterLogin', window.location.pathname.split('/').pop());
      window.location.href = '/pages/public/login.html';
    }
  </script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Planora â€” Smart Design Selector (Fixed)</title>

  <link rel="icon" type="image/png" href="/icon/Planora-logo-removebg-preview.png">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    :root {
      --accent: #00bfa6;
      --muted: #6c757d;
    }

    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: #f7fafb;
    }

    .hero {
      padding: 3.5rem 1rem;
      text-align: center;
      background: linear-gradient(180deg, #ecfffb, #ffffff);
    }

    .card-wrap {
      max-width: 980px;
      margin: 1.5rem auto;
    }

    .result-card {
      border-radius: 14px;
      padding: 1.25rem;
      box-shadow: 0 8px 30px rgba(10, 10, 10, 0.06);
      background: #fff;
    }

    .img-preview {
      width: 100%;
      height: 360px;
      object-fit: cover;
      border-radius: 10px;
      border: 1px solid #e9ecef;
      display: block;
    }

    .small-muted {
      color: var(--muted);
      font-size: 0.95rem;
    }

    .choice-row .form-select,
    .choice-row .form-control {
      min-height: 48px;
    }

    .badge-match {
      background: var(--accent);
      color: #fff;
      border-radius: 6px;
      padding: 0.25rem .5rem;
      font-size: 0.8rem;
      display: none;
    }

    .fade-ani {
      animation: fadeSmooth .5s ease both;
    }

    @keyframes fadeSmooth {
      from {
        opacity: 0;
        transform: scale(.98);
      }

      to {
        opacity: 1;
        transform: scale(1);
      }
    }
  </style>
</head>
  
<body>

  <!-- Navbar -->
  <div id="planora-navbar"></div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/js/auth.js"></script>
  <script src="/js/navbar.js"></script>


  <!-- ðŸ”¥ BEAUTIFUL INTERACTIVE HEADING -->
  <header style="
    background: linear-gradient(135deg, #181952, #190f39);
    padding: 40px 20px;
    text-align: center;
    color: white;
    border-bottom: 4px solid #8ed1fa;
    position: relative;
    overflow: hidden;
  ">

    <!-- Subtle floating glowing circles -->
    <div style="
      position:absolute;
      width:150px;
      height:150px;
      background:rgba(255,180,0,0.15);
      border-radius:50%;
      top:-40px;
      left:-40px;
      filter:blur(30px);
      animation: float1 6s infinite alternate ease-in-out;
  "></div>

    <div style="
      position:absolute;
      width:180px;
      height:180px;
      background:rgba(255,255,255,0.12);
      border-radius:50%;
      bottom:-50px;
      right:-30px;
      filter:blur(30px);
      animation: float2 7s infinite alternate ease-in-out;
  "></div>

    <h1 style="
      font-size: 42px;
      margin: 0;
      letter-spacing: 2px;
      font-weight: 700;
      text-transform: uppercase;
      animation: fadeIn 1.2s ease;
    ">
      AI Home Design Generator
    </h1>

    <p style="
      font-size: 18px;
      margin-top: 12px;
      opacity: 0.9;
      animation: fadeIn 2s ease;
    ">
      Choose Your Style â†’ Get Floor Plans Automatically â†’ Preview Full Model
    </p>
  </header>
  <div class="container" style="padding-top: 30px; padding-bottom: 50px; max-width: 1000px;">
        <div class="text-end mb-4">
            <a href="/pages/professional/dashboard.html" class="btn btn-outline-secondary">
                <i class="fas fa-arrow-left"></i> Back to Dashboard
            </a>
        </div>

  <!-- ðŸ”¥ ANIMATIONS -->
  <style>
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes float1 {
      from {
        transform: translateY(0px);
      }

      to {
        transform: translateY(25px);
      }
    }

    @keyframes float2 {
      from {
        transform: translateY(0px);
      }

      to {
        transform: translateY(-25px);
      }
    }
  </style>




  <main class="card-wrap">
    <div class="row g-4">
      <!-- LEFT SIDE FORM -->
      <div class="col-lg-5">
        <div class="result-card"
          style="background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.4);">
          <div class="d-flex align-items-center mb-4">
            <div style="
              width: 50px;
              height: 50px;
              background: linear-gradient(135deg, #181952, #190f39);
              border-radius: 12px;
              display: flex;
              align-items: center;
              justify-content: center;
              margin-right: 15px;
            ">
              <i class="fas fa-sliders-h" style="color: white; font-size: 1.5rem;"></i>
            </div>
            <h4 class="mb-0" style="color: #14213d; font-weight: 700;">Design Inputs</h4>
          </div>

          <form id="designForm" class="choice-row">
            <div class="mb-4">
              <label class="form-label" style="font-weight: 600; color: #14213d;">
                <i class="fas fa-home me-2" style="color: #8ed1fa;"></i>Home Type
              </label>
              <select id="homeType" class="form-select" required
                style="border: 2px solid #e0e0e0; border-radius: 10px; padding: 12px;">
                <option value="">Select Home Type</option>
                <option value="3BHK">3BHK - Family Home</option>
                <option value="2BHK">2BHK - Comfortable Living</option>
                <option value="1BHK">1BHK - Compact Studio</option>
                <option value="Villa">Villa - Luxury Estate</option>
              </select>
            </div>

            <div class="mb-4">
              <label class="form-label" style="font-weight: 600; color: #14213d;">
                <i class="fas fa-paint-brush me-2" style="color: #8ed1fa;"></i>Interior Style
              </label>
              <select id="styleType" class="form-select" required
                style="border: 2px solid #e0e0e0; border-radius: 10px; padding: 12px;">
                <option value="">Select Style</option>
                <option value="Modern">Modern - Clean & Contemporary</option>
                <option value="Minimal">Minimal - Simple Elegance</option>
                <option value="Traditional">Traditional - Classic Charm</option>
                <option value="Luxury">Luxury - Premium Finishes</option>
              </select>
            </div>

            <div class="mb-4">
              <label class="form-label" style="font-weight: 600; color: #14213d;">
                <i class="fas fa-rupee-sign me-2" style="color: #8ed1fa;"></i>Budget Range
              </label>
              <select id="budgetType" class="form-select" required
                style="border: 2px solid #e0e0e0; border-radius: 10px; padding: 12px;">
                <option value="">Select Budget</option>
                <option value="Low">â‚¹5-15 Lakhs - Economic</option>
                <option value="Medium">â‚¹15-30 Lakhs - Premium</option>
                <option value="High">â‚¹30+ Lakhs - Luxury</option>
              </select>
            </div>

            <div class="d-grid gap-3 mt-4">
              <button class="btn btn-lg" type="submit" style="
                background: linear-gradient(135deg, #181952, #190f39);
                color: white;
                font-weight: 600;
                padding: 15px;
                border-radius: 12px;
                border: none;
                box-shadow: 0 4px 15px rgba(24, 25, 82, 0.3);
              ">
                <i class="fas fa-magic me-2"></i>Generate AI Design
              </button>
              <button id="randomBtn" type="button" class="btn btn-outline-secondary btn-lg" style="
                border: 2px solid #8ed1fa;
                color: #181952;
                font-weight: 600;
                padding: 15px;
                border-radius: 12px;
              ">
                <i class="fas fa-dice me-2"></i>Surprise Me!
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- RIGHT SIDE RESULT -->
      <div class="col-lg-7">
        <div class="result-card"
          style="background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.4); min-height: 600px;">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <div class="d-flex align-items-center">
              <div style="
                width: 50px;
                height: 50px;
                background: linear-gradient(135deg, #ffb703, #fb8500);
                border-radius: 12px;
                display: flex;
                align-items: center;
                justify-content: center;
                margin-right: 15px;
              ">
                <i class="fas fa-image" style="color: white; font-size: 1.5rem;"></i>
              </div>
              <h4 id="resultTitle" class="mb-0" style="color: #14213d; font-weight: 700;">Design Preview</h4>
            </div>
            <div id="matchBadge" class="badge-match" style="background: #00bfa6; display: none;">Exact Match</div>
          </div>

          <div
            style="position: relative; background: #f8f9fa; border-radius: 15px; overflow: hidden; border: 3px dashed #e0e0e0;">
            <img id="previewImage" class="img-preview" alt="Design preview" src=""
              style="width: 100%; height: 380px; object-fit: cover; display: none;" />
            <div id="placeholderText"
              style="height: 380px; display: flex; align-items: center; justify-content: center; flex-direction: column; color: #999;">
              <i class="fas fa-home" style="font-size: 4rem; margin-bottom: 20px; opacity: 0.3;"></i>
              <p style="font-size: 1.1rem; font-weight: 500;">Select options and click "Generate AI Design"</p>
              <p style="font-size: 0.9rem;">AI will create your dream home instantly</p>
            </div>
          </div>

          <div class="mt-3">
            <div id="explainText" class="small-muted"
              style="padding: 12px; background: #f0f8ff; border-left: 4px solid #8ed1fa; border-radius: 8px; font-size: 0.95rem;">
              <i class="fas fa-info-circle me-2" style="color: #8ed1fa;"></i>
              Make your selections above to generate AI-powered interior designs
            </div>
          </div>

          <div class="mt-4">
            <h6 style="color: #14213d; font-weight: 700; margin-bottom: 12px;">
              <i class="fas fa-th-large me-2" style="color: #8ed1fa;"></i>Suggested Layout Plan
            </h6>
            <p id="layoutDescription" class="small-muted"
              style="background: #ffffff; padding: 15px; border-radius: 10px; border: 1px solid #e0e0e0;">
              Your personalized floor plan and room layout will appear here after generating the design.
            </p>
          </div>

          <div class="mt-4 d-flex gap-2">
            <button id="downloadBtn" class="btn btn-outline-primary btn-lg flex-fill"
              style="border: 2px solid #8ed1fa; color: #181952; font-weight: 600; border-radius: 10px;">
              <i class="fas fa-download me-2"></i>Download
            </button>

          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- CONTACT MODAL -->
  <div class="modal fade" id="contactModal">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Contact Architect</h5>
          <button class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <form id="contactForm">
            <input id="contactName" class="form-control mb-2" placeholder="Your name" required>
            <input id="contactEmail" type="email" class="form-control mb-2" placeholder="Email" required>
            <textarea id="contactMessage" class="form-control mb-2" rows="3" placeholder="Message"></textarea>
            <button class="btn btn-primary w-100" type="submit">Send</button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- ================= PROFESSIONAL SEARCH SYSTEM (INDIAN PROS + YOUR MODEL IMAGES) ================= -->










  <!-- AI Generator Logic -->
  <script>
    // Layout plan images - for Generate button (Floor Plans)
    const layoutPlans = [
      "/images/plan1.png",
      "/images/plan2.png",
      "/images/plan3.png",
      "/images/plan4.png"
    ];

    // Completed project images - for Surprise Me button
    const projectGallery = [
      "/images/WhatsApp Image 2025-11-13 at 20.48.31 (2).jpeg",
      "/images/WhatsApp Image 2025-11-13 at 20.48.31 (4).jpeg",
      "/images/WhatsApp Image 2025-11-13 at 20.49.23.jpeg",
      "/images/WhatsApp Image 2025-11-13 at 20.48.33.jpeg",
      "/images/WhatsApp Image 2025-11-13 at 20.48.32.jpeg",
      "/images/WhatsApp Image 2025-11-13 at 20.49.23 (1).jpeg",
      "/images/WhatsApp Image 2025-11-13 at 20.48.31.jpeg",
      "/images/WhatsApp Image 2025-11-13 at 20.48.31 (3).jpeg"
    ];

    const layoutDescriptions = {
      "3BHK": "Open concept living area, 3 spacious bedrooms, 2.5 bathrooms, modern kitchen with island, separate dining area, balcony access",
      "2BHK": "Compact yet comfortable 2 bedroom layout, combined living-dining, 2 bathrooms, efficient kitchen design, good natural lighting",
      "1BHK": "Studio-style living with bedroom partition, multifunctional spaces, 1 bathroom, kitchenette, maximized storage",
      "Villa": "Expansive multi-level design, 4+ bedrooms, home theater, gym area, outdoor pool space, premium finishes throughout"
    };

    // Form submit handler - Shows FLOOR PLANS
    document.getElementById('designForm').addEventListener('submit', function (e) {
      e.preventDefault();

      const homeType = document.getElementById('homeType').value;
      const styleType = document.getElementById('styleType').value;
      const budgetType = document.getElementById('budgetType').value;

      if (!homeType || !styleType || !budgetType) {
        alert('Please select all options');
        return;
      }

      generateLayoutPlan(homeType, styleType, budgetType);
    });

    // Surprise Me button - Shows COMPLETED PROJECTS
    document.getElementById('randomBtn').addEventListener('click', function () {
      const homes = ['3BHK', '2BHK', '1BHK', 'Villa'];
      const styles = ['Modern', 'Minimal', 'Traditional', 'Luxury'];
      const budgets = ['Low', 'Medium', 'High'];

      const randomHome = homes[Math.floor(Math.random() * homes.length)];
      const randomStyle = styles[Math.floor(Math.random() * styles.length)];
      const randomBudget = budgets[Math.floor(Math.random() * budgets.length)];

      document.getElementById('homeType').value = randomHome;
      document.getElementById('styleType').value = randomStyle;
      document.getElementById('budgetType').value = randomBudget;

      generateSurpriseProject(randomHome, randomStyle, randomBudget);
    });

    function generateLayoutPlan(homeType, styleType, budgetType) {
      // Show loading
      document.getElementById('placeholderText').innerHTML =
        '<i class="fas fa-spinner fa-spin" style="font-size: 3rem; color: #8ed1fa;"></i><p class="mt-3">Generating floor plan...</p>';

      setTimeout(() => {
        // Pick random layout plan
        const randomPlan = layoutPlans[Math.floor(Math.random() * layoutPlans.length)];

        // Update UI
        document.getElementById('placeholderText').style.display = 'none';
        const img = document.getElementById('previewImage');
        img.src = randomPlan;
        img.style.display = 'block';
        img.classList.add('fade-ani');

        // Update title and description
        document.getElementById('resultTitle').textContent = `${homeType} ${styleType} Floor Plan`;
        document.getElementById('layoutDescription').textContent = layoutDescriptions[homeType] || 'Custom layout designed for your needs';
        document.getElementById('explainText').innerHTML =
          `<i class="fas fa-check-circle me-2" style="color: #00bfa6;"></i>
           AI generated floor plan for ${homeType} with ${styleType} style (${budgetType} budget)`;

        document.getElementById('matchBadge').style.display = 'inline-block';
      }, 1500);
    }

    function generateSurpriseProject(homeType, styleType, budgetType) {
      // Show loading
      document.getElementById('placeholderText').innerHTML =
        '<i class="fas fa-spinner fa-spin" style="font-size: 3rem; color: #8ed1fa;"></i><p class="mt-3">Generating completed design...</p>';

      setTimeout(() => {
        // Pick random completed project
        const randomProject = projectGallery[Math.floor(Math.random() * projectGallery.length)];

        // Update UI  
        document.getElementById('placeholderText').style.display = 'none';
        const img = document.getElementById('previewImage');
        img.src = randomProject;
        img.style.display = 'block';
        img.classList.add('fade-ani');

        // Update title and description
        document.getElementById('resultTitle').textContent = `Surprise! ${homeType} ${styleType} Design`;
        document.getElementById('layoutDescription').textContent = layoutDescriptions[homeType] || 'Beautiful completed project';
        document.getElementById('explainText').innerHTML =
          `<i class="fas fa-magic me-2" style="color: #00bfa6;"></i>
           Here's a stunning ${homeType} design with ${styleType} aesthetics!`;

        document.getElementById('matchBadge').style.display = 'inline-block';
      }, 1500);
    }

    // Download button
    document.getElementById('downloadBtn').addEventListener('click', function () {
      const img = document.getElementById('previewImage');
      if (img.src && img.style.display !== 'none') {
        const link = document.createElement('a');
        link.href = img.src;
        link.download = 'planora-ai-design.jpg';
        link.click();
      } else {
        alert('Please generate a design first!');
      }
    });
  </script>

  <!-- Dynamic Footer Container -->
  <div id="planora-footer"></div>
  <script src="/js/footer.js"></script>

</body>

</html>
